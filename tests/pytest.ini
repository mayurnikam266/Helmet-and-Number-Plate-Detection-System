[tool.pytest.ini_options]
# Pytest configuration for Helmet and Number Plate Detection System Test Suite
# Based on System Testing and Validation Documentation

minversion = "7.0"
addopts = [
    "-ra",                    # Show summary of all tests
    "-q",                     # Quiet mode
    "--strict-markers",       # Strict marker checking
    "--strict-config",        # Strict configuration
    "--cov=../utils",        # Coverage for utils package (relative to tests dir)
    "--cov-report=html",     # HTML coverage report
    "--cov-report=term-missing",  # Terminal coverage with missing lines
    "--cov-fail-under=80",   # Fail if coverage below 80%
]

testpaths = [
    "tests",
    "."
]

markers = [
    "unit: Unit tests for individual components",
    "integration: Integration tests for module interactions", 
    "system: System-wide end-to-end tests",
    "performance: Performance and benchmarking tests",
    "acceptance: User acceptance and usability tests",
    "gpu: Tests requiring GPU hardware",
    "slow: Long-running tests",
    "functional: Functional requirement validation tests"
]

# Test discovery patterns
python_files = ["test_*.py", "*_test.py", "test_suite.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]

# Logging configuration for tests
log_cli = true
log_cli_level = "INFO"
log_cli_format = "%(asctime)s [%(levelname)8s] %(name)s: %(message)s"
log_cli_date_format = "%Y-%m-%d %H:%M:%S"

# Filter warnings
filterwarnings = [
    "ignore::UserWarning",
    "ignore::DeprecationWarning",
    "ignore::PendingDeprecationWarning"
]